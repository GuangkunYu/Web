<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title></title>
		<style type="text/css">
			#small{
				width: 301px;
				height: 169px;
				border: 1px solid black;
				position: absolute;
				top: 100px;
			}
			#small img{
				width: 100%;
				height: 100%;
			}
			#mark{
				width: 80px;
				height: 80px;
				background-color: yellow;
				opacity: 0.6;
				position: absolute;
				top: 0;
				left: 0;
				display: none;
			}
			#big{
				width: 318px;
				height: 320px;
				border: 1px solid black;
				position: absolute;
				left: 400px;
				top: 100px;
				overflow: hidden;
				display: none;
			}
			#big img{
				position: absolute;
			}
		</style>
		<script src="../jquery.js" type="text/javascript" charset="utf-8"></script>
	</head>
	<body>
		<div id="small">
			<img src="1.jpg" >
			<div id="mark"></div>
		</div>
		<div id="big">
			<img src="1.jpg" >
		</div>
		
		<script type="text/javascript">
			$(function(){
				$('#small').mouseenter(function(){
					$("#mark, #big").show()
				}).mouseleave(function(){
					$("#mark, #big").hide()
				}).mousemove(function(ev){
					let l = ev.pageX - $(this).offset().left-40;
					let t = ev.pageY - $(this).offset().top-40;
					if(l<=0){
						l=0
					}
					if(l>=221){
						l=221
					}
					if(t<=0){
						t=0
					}
					if(t>=89){
						t=89
					}
					$('#mark').css({
						left: l,
						top: t
					})
					//同时改变放大图片的位置
					$('#big img').css({
						left: -4 * l,
						top: -4 * t
					})
				})
			})
		</script>
	</body>
</html>
